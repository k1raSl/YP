import logging
from telegram import Update, ReplyKeyboardMarkup, KeyboardButton
from telegram.ext import Application, CommandHandler, MessageHandler, filters, CallbackContext
import random

logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

TOKEN = "7635334895:AAET9udMF3im-hdsxuocP3rpE54xFPbhHxc"

def get_keyboard():
    return ReplyKeyboardMarkup(
        [
            [KeyboardButton("üí• –í—Ä–µ–º—è –≤–∑—Ä—ã–≤–∞"), KeyboardButton("üíÇ –ö–∞–∫–∏–µ —Å–ø–µ—Ü —é–Ω–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å")],
            [KeyboardButton("üèô –ò—Å—Ö–æ–¥ –≥–æ—Ä–æ–¥–∞"), KeyboardButton("üíÄ –°–º–µ—Ä—Ç–∏")],
            [KeyboardButton("üåÜ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å"), KeyboardButton("‚ò¢ –£—Ä–æ–≤–µ–Ω—å —Ä–∞–¥–∏–∞—Ü–∏–∏")],
            [KeyboardButton("üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ"), KeyboardButton("üîÑ –°–±—Ä–æ—Å")],
            [KeyboardButton("‚Ñπ –ü–æ–º–æ—â—å")]
        ],
        resize_keyboard=True
    )

async def start(update: Update, context: CallbackContext):
    user = update.effective_user
    await update.message.reply_text(
        f"üëã –ü—Ä–∏–≤–µ—Ç, {user.first_name}! –Ø –±–æ—Ç –∏ —è —Ä–∞—Å—Å–∫–∞–∂—É —Ç–µ–±–µ –≤—Å—é –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∑—Ä—ã–≤–µ –ß–ê–≠–°.\n"
        "–í—ã–±–µ—Ä–∏ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ:",
        reply_markup=get_keyboard()
    )

async def time(update: Update, context: CallbackContext):
    time_blowing = (
        "üí• –ê–≤–∞—Ä–∏—è –Ω–∞ –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∞—Ç–æ–º–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–∏ (–ß–ê–≠–°) –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤ –Ω–æ—á—å —Å 25 –Ω–∞ 26 –∞–ø—Ä–µ–ª—è 1986 –≥–æ–¥–∞. "
        "–≠—Ç–æ –∫—Ä—É–ø–Ω–µ–π—à–∞—è –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ –≤ –∞—Ç–æ–º–Ω–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ.\n\n"
        "–í 01:23:47 (–ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏) –Ω–∞ 4-–º —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–µ –ß–ê–≠–° –ø—Ä–æ–∏–∑–æ—à—ë–ª –≤–∑—Ä—ã–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä—É—à–∏–ª —Ä–µ–∞–∫—Ç–æ—Ä."
    )
    await update.message.reply_text(time_blowing)

async def specop(update: Update, context: CallbackContext):
    spec = (
        "üíÇ –ö–∞–∫–∏–µ —Å–ø–µ—Ü–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏:\n\n"
        "üéñ 1. –ö–ì–ë –°–°–°–† (–ö–æ–º–∏—Ç–µ—Ç –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏):\n"
        "- –†–∞—Å—Å–ª–µ–¥–æ–≤–∞–ª–∏ –ø—Ä–∏—á–∏–Ω—ã –∞–≤–∞—Ä–∏–∏\n"
        "- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –±–ª–æ–∫–∞–¥—É\n"
        "- –û—Ç—Å–ª–µ–∂–∏–≤–∞–ª–∏ –Ω–µ–±–ª–∞–≥–æ–Ω–∞–¥—ë–∂–Ω—ã—Ö —Å—Ä–µ–¥–∏ –ª–∏–∫–≤–∏–¥–∞—Ç–æ—Ä–æ–≤\n\n"
        "üéñ 2. –ú–í–î –°–°–°–† (–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–µ–ª):\n"
        "- –û–±–µ—Å–ø–µ—á–∏–≤–∞–ª–∏ —ç–≤–∞–∫—É–∞—Ü–∏—é –Ω–∞—Å–µ–ª–µ–Ω–∏—è (47 —Ç—ã—Å. —á–µ–ª–æ–≤–µ–∫ –∑–∞ 36 —á–∞—Å–æ–≤)\n"
        "- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∏ 30-–∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤—É—é –∑–æ–Ω—É –æ—Ç—á—É–∂–¥–µ–Ω–∏—è\n\n"
        "üéñ 3. –°–æ–≤–µ—Ç—Å–∫–∞—è –∞—Ä–º–∏—è –∏ –≤–æ–π—Å–∫–∞ —Ö–∏–º–∑–∞—â–∏—Ç—ã:\n"
        "- 340 —Ç—ã—Å. –≤–æ–µ–Ω–Ω–æ—Å–ª—É–∂–∞—â–∏—Ö —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏\n"
        "- –í–µ—Ä—Ç–æ–ª—ë—Ç—á–∏–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–ª–∏ —Å–≤–∏–Ω–µ—Ü –∏ –¥–æ–ª–æ–º–∏—Ç –≤ —Ä–µ–∞–∫—Ç–æ—Ä\n\n"
        "üéñ 4. 7-–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–ì–ë (—Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞):\n"
        "- –°–æ–±–∏—Ä–∞–ª–∏ –æ–±—Ä–∞–∑—Ü—ã –≥—Ä—É–Ω—Ç–∞ –∏ –≤–æ–¥—ã –≤ –∑–æ–Ω–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è\n\n"
        "üéñ 5. –ì–†–£ –ì–µ–Ω—à—Ç–∞–±–∞ (–≤–æ–µ–Ω–Ω–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞):\n"
        "- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é\n\n"
        "üéñ 6. –ì–ª–∞–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∞–≥–µ—Ä–µ–π (–ì–£–õ–ê–ì):\n"
        "- –ó–∞–∫–ª—é—á—ë–Ω–Ω—ã–µ —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ –æ—Å–æ–±–æ –æ–ø–∞—Å–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö"
    )
    await update.message.reply_text(spec)

async def exodus(update: Update, context: CallbackContext):
    cities = (
        "üèô –ò—Å—Ö–æ–¥ –≥–æ—Ä–æ–¥–∞:\n\n"
        "–°–µ–≥–æ–¥–Ω—è –ü—Ä–∏–ø—è—Ç—å - —ç—Ç–æ –≥–æ—Ä–æ–¥-–ø—Ä–∏–∑—Ä–∞–∫, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∑–æ–Ω–µ –æ—Ç—á—É–∂–¥–µ–Ω–∏—è.\n\n"
        "–û–Ω —Å—Ç–∞–ª —Å–≤–æ–µ–æ–±—Ä–∞–∑–Ω—ã–º –º—É–∑–µ–µ–º –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º –∏ –ø–∞–º—è—Ç–Ω–∏–∫–æ–º –∫—Ä—É–ø–Ω–µ–π—à–µ–π —Ç–µ—Ö–Ω–æ–≥–µ–Ω–Ω–æ–π –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏.\n\n"
        "–î–æ –Ω–∞—á–∞–ª–∞ –ø–æ–ª–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω–æ–π –≤–æ–π–Ω—ã –≤ –£–∫—Ä–∞–∏–Ω–µ –ü—Ä–∏–ø—è—Ç—å –±—ã–ª–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞.\n\n"
        "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –≤–¥–æ—Ö–Ω–æ–≤–∏–ª–∞ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∑–Ω–∞–º–µ–Ω–∏—Ç–æ–π —É–∫—Ä–∞–∏–Ω—Å–∫–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∏–≥—Ä—ã S.T.A.L.K.E.R."
    )
    await update.message.reply_text(cities)

async def deathing(update: Update, context: CallbackContext):
    death = (
        "üíÄ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–µ—Ä—Ç–≤:\n\n"
        "–¢–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏—Ö –æ—Ç —á–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∞–≤–∞—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.\n\n"
        "–ü–æ —Ä–∞–∑–Ω—ã–º –¥–∞–Ω–Ω—ã–º:\n"
        "- –ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç –∞–≤–∞—Ä–∏–∏ –ø–æ–≥–∏–±–ª–æ –¥–æ 50 —á–µ–ª–æ–≤–µ–∫\n"
        "- –í –ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ –º–µ—Å—è—Ü–∞ —Å–∫–æ–Ω—á–∞–ª–æ—Å—å 30 —á–µ–ª–æ–≤–µ–∫\n"
        "- –° 1987 –ø–æ 2004 –≥–æ–¥ –µ—â—ë 19 —Å–º–µ—Ä—Ç–µ–π –º–æ–∂–Ω–æ –æ—Ç–Ω–µ—Å—Ç–∏ –∫ –µ—ë –ø—Ä—è–º—ã–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º"
    )
    await update.message.reply_text(death)

async def now(update: Update, context: CallbackContext):
    today = (
        "üåÜ –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:\n\n"
        "–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤–µ–¥—É—Ç—Å—è —Ä–∞–±–æ—Ç—ã –ø–æ –≤—ã–≤–æ–¥—É –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –ê–≠–° –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é —Ä–∞–∑—Ä—É—à–µ–Ω–Ω–æ–≥–æ "
        "–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∞–≤–∞—Ä–∏–∏ —á–µ—Ç–≤—ë—Ä—Ç–æ–≥–æ —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞ –≤ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É.\n\n"
        "–ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –∫ 2065 –≥–æ–¥—É."
    )
    await update.message.reply_text(today)

async def radiation(update: Update, context: CallbackContext):
    rad = (
        "‚ò¢ –£—Ä–æ–≤–µ–Ω—å —Ä–∞–¥–∏–∞—Ü–∏–∏ –ø—Ä–∏ –≤–∑—Ä—ã–≤–µ:\n\n"
        "–ü—Ä–∏ –≤–∑—Ä—ã–≤–µ 4-–≥–æ —Ä–µ–∞–∫—Ç–æ—Ä–∞ –ß–µ—Ä–Ω–æ–±—ã–ª—å—Å–∫–æ–π –∞—Ç–æ–º–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–∏ "
        "26 –∞–ø—Ä–µ–ª—è 1986 –≥–æ–¥–∞ —É—Ä–æ–≤–µ–Ω—å —Ä–∞–¥–∏–∞—Ü–∏–∏ –≤ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏—Ö –∑–æ–Ω–∞—Ö –∑–¥–∞–Ω–∏—è —Ä–µ–∞–∫—Ç–æ—Ä–∞, "
        "–ø–æ –æ—Ü–µ–Ω–∫–∞–º, —Å–æ—Å—Ç–∞–≤–ª—è–ª 5,6 —Ä–µ–Ω—Ç–≥–µ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥—É, —á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –±–æ–ª–µ–µ —á–µ–º 20 000 —Ä–µ–Ω—Ç–≥–µ–Ω –≤ —á–∞—Å."
    )
    await update.message.reply_text(rad)

async def random_number(update: Update, context: CallbackContext):
    num = random.randint(1, 100)
    await update.message.reply_text(f"üé≤ –í–∞—à–µ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ: {num}")

async def help_command(update: Update, context: CallbackContext):
    help_text = (
        "‚Ñπ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:\n\n"
        "üí• –í—Ä–µ–º—è –≤–∑—Ä—ã–≤–∞ - –ö–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –∞–≤–∞—Ä–∏—è\n"
        "üíÇ –°–ø–µ—Ü–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è - –ö–∞–∫–∏–µ —Å–∏–ª—ã —É—á–∞—Å—Ç–≤–æ–≤–∞–ª–∏\n"
        "üèô –ò—Å—Ö–æ–¥ –≥–æ—Ä–æ–¥–∞ - –ß—Ç–æ —Å—Ç–∞–ª–æ —Å –ü—Ä–∏–ø—è—Ç—å—é\n"
        "üíÄ –°–º–µ—Ä—Ç–∏ - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–µ—Ä—Ç–≤ –∞–≤–∞—Ä–∏–∏\n"
        "üåÜ –ß—Ç–æ —Å–µ–π—á–∞—Å - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ß–ê–≠–°\n"
        "‚ò¢ –†–∞–¥–∏–∞—Ü–∏—è - –£—Ä–æ–≤–Ω–∏ —Ä–∞–¥–∏–∞—Ü–∏–∏ –ø—Ä–∏ –≤–∑—Ä—ã–≤–µ\n"
        "üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª\n"
        "üîÑ –°–±—Ä–æ—Å - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"
    )
    await update.message.reply_text(help_text)

async def handle_message(update: Update, context: CallbackContext):
    text = update.message.text

    if text == "üí• –í—Ä–µ–º—è –≤–∑—Ä—ã–≤–∞":
        await time(update, context)
    elif text == "üíÇ –ö–∞–∫–∏–µ —Å–ø–µ—Ü —é–Ω–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å":
        await specop(update, context)
    elif text == "üèô –ò—Å—Ö–æ–¥ –≥–æ—Ä–æ–¥–∞":
        await exodus(update, context)
    elif text == "üíÄ –°–º–µ—Ä—Ç–∏":
        await deathing(update, context)
    elif text == "üåÜ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å":
        await now(update, context)
    elif text == "‚ò¢ –£—Ä–æ–≤–µ–Ω—å —Ä–∞–¥–∏–∞—Ü–∏–∏":
        await radiation(update, context)
    elif text == "üé≤ –°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ":
        await random_number(update, context)
    elif text == "üîÑ –°–±—Ä–æ—Å":
        await start(update, context)
    elif text == "‚Ñπ –ü–æ–º–æ—â—å":
        await help_command(update, context)
    else:
        await update.message.reply_text("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏", reply_markup=get_keyboard())

async def error_handler(update: object, context: CallbackContext):
    logger.error("Exception while handling an update:", exc_info=context.error)

def main():
    application = Application.builder().token(TOKEN).build()

    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("help", help_command))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))

    application.add_error_handler(error_handler)

    application.run_polling()

if __name__ == '__main__':
    main()
